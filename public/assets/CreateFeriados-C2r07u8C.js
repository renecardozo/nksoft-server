import{r as a,u as E,j as e,C as b,a as x,b as c,d as I,e as k,f as B,g as o,h,i as u,w as T,a5 as G,a0 as R,l as A,o as j,ad as L,n as C,ae as O,af as P}from"./index-Caj9Gai4.js";/* empty css                         */const H=()=>{const[t,m]=a.useState(new Date),n=E(),[l,p]=a.useState([]),[f,g]=a.useState(""),[i,S]=a.useState(""),[v,N]=a.useState(!1),[y,d]=a.useState(!1),w=async()=>{const s=await O();p(s)};a.useEffect(()=>{w()},[]);const F=async s=>{s.preventDefault(),n("/administracion/feriados")},D=async s=>{s.preventDefault();try{console.log("guardar feriado");const r={descripcion:f,codigo:i,fecha:t.toISOString()};await P(r),n("/administracion/feriados")}catch(r){console.error(r),d(!0)}finally{setTimeout(()=>{N(!1),d(!1)},3e3)}};return e.jsx("div",{className:"container",children:e.jsxs(b,{children:[e.jsxs(x,{className:"justify-content-center",children:[e.jsx(c,{md:9,lg:7,xl:6,children:e.jsx(I,{className:"mx-4",children:e.jsx(k,{className:"p-4",children:e.jsxs(B,{children:[e.jsx("h1",{children:"Feriados"}),e.jsx("p",{className:"text-body-secondary",children:"Crea un feriado!"}),e.jsxs(o,{className:"mb-3",children:[e.jsx(h,{children:e.jsx(u,{icon:T})}),e.jsx(G,{selected:t,onChange:s=>m(s)})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(h,{children:e.jsx(u,{icon:R})}),e.jsx(A,{placeholder:"Descripcion",autoComplete:"descripcion",onChange:s=>g(s.target.value)})]}),e.jsx(o,{className:"mb-3",children:e.jsxs("select",{className:"form-select",value:i,onChange:s=>S(s.target.value),children:[e.jsx("option",{value:"",children:"Seleccionar un Feriado"}),l.map((s,r)=>e.jsx("option",{value:s.code,children:s.name},r))]})}),e.jsxs("div",{className:"d-grid",children:[e.jsx(j,{color:"primary",onClick:s=>D(s),children:"Crear"}),e.jsx(j,{color:"default",onClick:s=>F(s),children:"Cancelar"})]})]})})})}),e.jsx(c,{md:3,lg:5,xl:6,children:l.map(s=>e.jsxs("h5",{children:[s.name," ",e.jsx(L,{color:s.color,children:s.code})]},s.code))})]}),e.jsx(x,{className:"justify-content-center p-10",children:e.jsxs(c,{children:[v&&e.jsx(C,{color:"success",children:"Feriado registrado correctamente"}),y&&e.jsx(C,{color:"danger",children:"Error al registrar el Feriado, intentelo de nuevo."})]})})]})})};export{H as default};
