import{r,u as b,j as e,C as I,a as h,b as c,d as k,e as B,f as T,g as o,h as x,i as u,w as G,a5 as R,a0 as A,l as L,o as j,ad as M,n as C,ae as P,af as Y}from"./index-WtevhoQQ.js";/* empty css                         */const H=()=>{const[t,m]=r.useState(new Date),n=b(),[l,p]=r.useState([]),[g,f]=r.useState(""),[i,S]=r.useState(""),[v,N]=r.useState(!1),[y,d]=r.useState(!1),w=async()=>{const s=await P();p(s)};r.useEffect(()=>{w()},[]);const D=async s=>{s.preventDefault(),n("/administracion/feriados")},F=async s=>{s.preventDefault();try{console.log("guardar feriado");const a=new Date(t),E={descripcion:g,codigo:i,fecha:[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-")};await Y(E),n("/administracion/feriados")}catch(a){console.error(a),d(!0)}finally{setTimeout(()=>{N(!1),d(!1)},3e3)}};return e.jsx("div",{className:"container",children:e.jsxs(I,{children:[e.jsxs(h,{className:"justify-content-center",children:[e.jsx(c,{md:9,lg:7,xl:6,children:e.jsx(k,{className:"mx-4",children:e.jsx(B,{className:"p-4",children:e.jsxs(T,{children:[e.jsx("h1",{children:"Feriados"}),e.jsx("p",{className:"text-body-secondary",children:"Crea un feriado!"}),e.jsxs(o,{className:"mb-3",children:[e.jsx(x,{children:e.jsx(u,{icon:G})}),e.jsx(R,{selected:t,onChange:s=>m(s)})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(x,{children:e.jsx(u,{icon:A})}),e.jsx(L,{placeholder:"Descripcion",autoComplete:"descripcion",onChange:s=>f(s.target.value)})]}),e.jsx(o,{className:"mb-3",children:e.jsxs("select",{className:"form-select",value:i,onChange:s=>S(s.target.value),children:[e.jsx("option",{value:"",children:"Seleccionar un Feriado"}),l.map((s,a)=>e.jsx("option",{value:s.code,children:s.name},a))]})}),e.jsxs("div",{className:"d-grid",children:[e.jsx(j,{color:"primary",onClick:s=>F(s),children:"Crear"}),e.jsx(j,{color:"default",onClick:s=>D(s),children:"Cancelar"})]})]})})})}),e.jsx(c,{md:3,lg:5,xl:6,children:l.map(s=>e.jsxs("h5",{children:[s.name," ",e.jsx(M,{color:s.color,children:s.code})]},s.code))})]}),e.jsx(h,{className:"justify-content-center p-10",children:e.jsxs(c,{children:[v&&e.jsx(C,{color:"success",children:"Feriado registrado correctamente"}),y&&e.jsx(C,{color:"danger",children:"Error al registrar el Feriado, intentelo de nuevo."})]})})]})})};export{H as default};
